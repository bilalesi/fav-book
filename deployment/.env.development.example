# =============================================================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables needed for local development.
# Infrastructure services (PostgreSQL, Restate) run in Docker containers.
# Application services (web, server) run locally for fast iteration.
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env.development
# 2. Update values as needed for your local environment
# 3. Run: deployment/dev/start.sh
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL runs in Docker and is accessible on localhost:5432
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/bookmarks_dev

# =============================================================================
# RESTATE CONFIGURATION
# =============================================================================
# Restate server runs in Docker for durable workflow orchestration
RESTATE_INGRESS_URL=http://localhost:8080
RESTATE_ADMIN_URL=http://localhost:9070
RESTATE_SERVICE_PORT=9080

# =============================================================================
# API SERVER CONFIGURATION (apps/server)
# =============================================================================
# Authentication
BETTER_AUTH_SECRET=dev-secret-change-in-production-minimum-32-chars
BETTER_AUTH_URL=http://localhost:3000

# CORS Configuration
CORS_ORIGIN=http://localhost:3001

# Server Settings
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# OAuth Providers (Optional for development)
# Get these from: https://developer.twitter.com/en/portal/dashboard
TWITTER_CLIENT_ID=your-twitter-client-id
TWITTER_CLIENT_SECRET=your-twitter-client-secret

# Get these from: https://www.linkedin.com/developers/apps
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# Email Service (Resend)
# For development: use Resend's test domain (emails appear in dashboard only)
RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=onboarding@resend.dev

# =============================================================================
# WEB APPLICATION CONFIGURATION (apps/web)
# =============================================================================
VITE_SERVER_URL=http://localhost:3000
ALCHEMY_PASSWORD=dev-password

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================
# LM Studio Configuration (for local AI development)
LM_STUDIO_API_URL=http://localhost:1234/v1
LM_STUDIO_MODEL=qwen_qwen3-4b-instruct-2507
LM_STUDIO_MAX_TOKENS=1000

# =============================================================================
# MEDIA DOWNLOAD CONFIGURATION
# =============================================================================
# Cobalt API for media downloads
COBALT_API_URL=http://localhost:9002
COBALT_TIMEOUT=30000

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_AI_SUMMARIZATION=true
ENABLE_MEDIA_DOWNLOAD=true
MAX_MEDIA_SIZE_MB=100
MAX_SUMMARY_LENGTH=500
WORKFLOW_RETRY_ATTEMPTS=3
WORKFLOW_RETRY_DELAY_MS=5000

# Storage Configuration
MAX_STORAGE_GB=10

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
# Rate Limiting (relaxed for development)
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=60000

# =============================================================================
# NOTES
# =============================================================================
# 1. Generate BETTER_AUTH_SECRET for production:
#    openssl rand -base64 32
#
# 2. OAuth credentials are optional for basic development
#    You can test without Twitter/LinkedIn login
#
# 3. Resend test domain works for development:
#    Emails appear in your Resend dashboard only
#
# 4. LM Studio must be running locally for AI features:
#    Download from: https://lmstudio.ai/
#
# 5. Cobalt API must be running for media downloads:
#    See: deployment/dev/docker-compose.yml
#
# 6. Never commit .env.development with real secrets to version control!
